// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model  Users { 
  id  String @id @default(uuid())
  email  String @unique
  birthday  DateTime
  validate  Boolean
  createAt DateTime @default(now())
  role  Roles
  childId String?
  student Users?  @relation("child", fields: [childId], references: [id])
  parent Users[] @relation("child")
}

enum Roles {
  parent
  student
}


 model TableContents {
    id  String @id @default(uuid())
    name String
    exercise Exercises[]   
    resultID String
    result Results @relation(fields: [resultID], references: [id], onDelete: Cascade)

 }

 model Exercises {
    id  String @id @default(uuid())
    question String
    response String
    contentId String
    content TableContents @relation(fields: [contentId], references: [id], onDelete : Cascade)

 }

 model Results {
     id  String @id @default(uuid())
     date  DateTime @default(now())
     exam   Boolean
     note Int[]
     timeRest   String
     content TableContents[]

   



 }